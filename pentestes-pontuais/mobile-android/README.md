---
description: >-
  Quando falamos de Pentest em Mobile no geral, o objetivo √© encontrar
  vulnerabilidades utilizando-se de quatro importantes passos:
---

# üì± Mobile Android

## <mark style="color:purple;">**An√°lise do c√≥digo-fonte e bin√°rio decompilado**</mark>

Via de regra, em todo pentest de aplicativo mobile ser√° disponibilizado um arquivo bin√°rio referente √† aplica√ß√£o, e nele √© feita engenharia reversa, onde podemos ver um suposto c√≥digo fonte, a depender da exist√™ncia de ofusca√ß√£o do c√≥digo. Verifique na aba de ferramentas as ques s√£o respons√°veis para esta etapa:

{% embed url="https://app.gitbook.com/o/sPkduRj8RUGYEYsCAzGm/s/RYj2VAjULglOz8FpaQD2/~/changes/31/pentestes-pontuais/mobile-android/ferramentas-essenciais" %}

## <mark style="color:purple;">**An√°lise da seguran√ßa do armazenamento de dados do aplicativo no dispositivo**</mark>

Antes da realiza√ß√£o dessa etapa, √© necess√°rio verificar a exist√™ncia de prote√ß√µes Anti-Root e, caso existam, √© preciso ent√£o realizar o Bypass, que sempre depende de como a aplica√ß√£o foi feita.

Ap√≥s a verifica√ß√£o, ent√£o √© feita a an√°lise de seguran√ßa, que se baseia em investigar se o dispositivo guarda indevidamente informa√ß√µes do aplicativo, como dados financeiros, dados pessoais, endere√ßo e outras informa√ß√µes sens√≠veis.



{% embed url="https://manifestsecurity.com/android-application-security/" %}

## <mark style="color:purple;">**Busca de vulnerabilidades nas requisi√ß√µes**</mark>

Neste processo, a an√°lise se baseia basicamente no tr√°fego de rede do aparelho e dever√° ser feito testes de vulnerabilidades nas requisi√ß√µes do aplicativo, ou seja, basicamente um pentest em API. Um detalhe desta etapa √© que, na maioria das vezes, √© feita concomitante √† an√°lise do c√≥digo-fonte, para comprovar o comportamento da aplica√ß√£o.

Vale ressaltar que em aplica√ß√µes de maturidade de seguran√ßa maior, h√° [Certificate Pinning](https://owasp.org/www-community/controls/Certificate\_and\_Public\_Key\_Pinning), impossibilitando a intercepta√ß√£o do tr√°fego de rede, e para isso ser√° necess√°rio realizar bypass.

Aqui segue um exemplo de um simples Bypass de SSL Pinning:



```
- Download Injection Script - https://codeshare.frida.re/@sowdust/universal-android-ssl-pinning-bypass-2/

- Download Frida-Server - compat√≠vel com a arquitetura do dispositivo - https://github.com/frida/frida/releases/ ( para saber a vers√£o do dispositivo, roda o comando "adb shell getprop ro.product.cpu.abi" )

python3 -m pip install frida frida-tools objection
mv ~/Downloads/frida-server-15.1.22-android-x86_64.xz .
unxz frida-server-15.1.22-android-x86_64.xz
mv frida-server-15.1.22-android-x86_64 frida-server
adb push frida-server /data/local/tmp/
adb shell "chmod 755 /data/local/tmp/frida-server"
adb shell "/data/local/tmp/frida-server &"
frida -U -l universal-android-ssl-pinning-bypass.js --no-pause -f com.APLICATIVO.EMPRESA (veja em /data/data)
```

## <mark style="color:purple;">**An√°lise da seguran√ßa do aplicativo no dispositivo**</mark>

Nesta etapa o foco est√° principalmente na an√°lise do AndroidManifest.xml, e para isso, este aqui √© um √≥timo guia sobre pontos a serem verificados na seguran√ßa do aparelho mobile numa an√°lise de aplicativo:

{% embed url="https://manifestsecurity.com/android-application-security/" %}

