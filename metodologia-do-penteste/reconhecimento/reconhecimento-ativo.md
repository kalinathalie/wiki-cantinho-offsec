# Reconhecimento Ativo

### <mark style="color:purple;">Objetivo do teste:</mark>

Identificar as tecnologias e versões dos serviços e softwares utilizados no webserver. Constatar se as tecnologias vazadas possuem vulnerabilidades conhecidas.

﻿**Execução:**&#x20;

* Utilize de ferramentas que possam facilitar a coleta de informações da aplicação. Navegue pela aplicação afim de entender melhor o seu funcionamento, fazendo com que o tráfego passe pelo BurpSuite a fim de enumerar endpoints.
* Analise as requisições e respostas realizadas a partir da navegação, quais hosts se comunicam com a aplicação, se são realizadas chamadas para APIs, quais os parâmetros passados e recebidos.
* Observe o código fonte da página, procure por informações sensíveis hard-coded ou em comentários do código.
* Observe os cabeçalhos de resposta da aplicação em busca de algum vazamento de informação.
* Envie requisições HTTP mal formadas para receber erros do webserver que possam trazer alguma informação sobre o tipo de tecnologia utilizada.
* Constatadas versões de tecnologias utilizadas, procurar por vulnerabilidades conhecidas.

### <mark style="color:purple;">Informação da aplicação Web:</mark>

<mark style="background-color:purple;">wig</mark> - Ferramenta utilizada para coleta de informações de aplicações web; \
Exemplo de uso: python3 wig.py http://url\_da\_aplicacao (é necessário baixar o arquivo wig.py para executá-lo). Retire.js - Plugin que mapeia bibliotecas e frameworks JavaScript utilizados na página e identifica vulnerabilidades; Wappalyzer - Plugin que mapeia tecnologias utilizadas em uma aplicação Web.

### <mark style="color:purple;">Informação de DNS:</mark>

<mark style="background-color:purple;">Host</mark> - host é um comando usado para resolver o endereço IP através de um nome de domínio;&#x20;

<mark style="background-color:purple;">Dig</mark> - Ferramenta utilizada para consultar tipos populares de registros DNS;&#x20;

<mark style="background-color:purple;">Dnsenum</mark> - Ferramenta utilizada para enumerar informações de DNS, coleta de informação sobre transferências de zona e bruteforce de subdomínio;&#x20;

<mark style="background-color:purple;">Nmap</mark> - Ferramenta com múltiplas funcionalidades. Utilizá-la com função "--script dns-brute" para realizar um bruteforce de subdomínios.

### <mark style="color:purple;">Scan Ativo:</mark>

<mark style="background-color:purple;">Nikto</mark> - Scanner de vulnerabilidades utilizado em aplicações web em busca de arquivos comuns, aplicações desatualizadas e outras falhas de segurança mais comuns. Esse tipo de ferramenta faz muito barulho na rede e é facilmente identificada por um WAF/IDS/IPS; \
Exemplo de uso: nikto -h http://url\_da\_aplicação (usar parâmetro -ssl se for HTTPS).&#x20;

<mark style="background-color:purple;">Nmap</mark>&#x20;

* Utilizá-la com o parâmetro "-sV" para capturar versões de serviços utilizados.&#x20;
* O scan deve ser realizado em todas as portas TCP e UDP.&#x20;
* Caso haja necessidade de bypassar algum firewall ou WAF utilizar os parâmetros - Pn (No Ping + No DNS Resolution), - sS (TCP SYN), - sT (TCP Connect), - sA (TCP ACK), - sW (TCP Window), -D RND:30 (Encobrir uma varredura com 30 IPs como iscas) ou - sM (TCP Maimon).&#x20;
* Utilizar da função "--script vuln" para identificar se os serviços expostos estão vulneráveis. \
  Scanear somente os serviços já considerados ativos. Utilizá-la com função "--scripts http" para capturar versões de serviços, vazamentos através de cabeçalhos e identificar possíveis vulnerabilidades.

﻿WAF Fingerprint:\
<mark style="background-color:purple;">Wafw00f</mark> - Ferramenta que permite identificar um WAF (Web Application Firewall) que pode estar protegendo um site. Utilize-a caso não encontre nenhuma outra informação sobre o tipo de WAF.
